# Chap9. 운영체제 시작하기

## 9-1. 운영체제를 알아야 하는 이유

### 운영체제란

- 모든 프로그램은 실행되기 위해 반드시 자원(CPU, 메모리, 보조기억장치, 입출력장치 등)이 필요.
실행할 그로그램에 필요한 자원을 할당하고, 프로그램이 올바르게 실행되도록 돕는 특별한 프로그램이 **운영체제**
- 메모리 내 **커널 영역**에 따로 적재되어 실행됨. 사용자가 이용하는 응용 프로그램은 사용자 영역
    
    ![Screenshot 2023-07-16 at 4.47.35 PM.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/1a8c45cb-6541-4c7e-9701-54e0a8e4d510/Screenshot_2023-07-16_at_4.47.35_PM.png)
    
    이 프로그램들을 적절하게 메모리에 적재하는 것도 운영체제
    
- 최대한 공정하게 여러 프로그램에 CPU 자원을 할당
- 관리할 자원별로 기능이 나누어져 있음
    
    ![Screenshot 2023-07-16 at 4.48.54 PM.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/804f117a-32d7-4c28-9e12-9a3b164aa80f/Screenshot_2023-07-16_at_4.48.54_PM.png)
    

### 운영체제를 알아야 하는 이유

- 운영체제는 하드웨어 상의 문제나 상태에 관해 상세하게 개발자에게 알려줌.
이를 이해하여 문제 해결의 실마리를 찾을 수 있도록 운영체제를 알아야 함

## 9-2. 운영체제의 큰 그림

### 운영체제의 심장, 커널

- **커널**: 운영체제의 핵심 서비스(자원에 접근하고 조작하는 기능, 프로그램이 올바르고 안전하게 실행되게 하는 기능)를 담당하는 부분
- 커널에 포함되지 않는 서비스 - 대표적으로 UI(그래픽 유저 인터페이스 GUI, 커맨드 라인 인터페이스 CLI)

### 이중 모드와 시스템 호출

- 사용자가 실행하는 응용 프로그램이 하드웨어 자원에 직접 접근하는 것을 방지, 자원을 보호함
- 응용 프로그램이 자원에 접근하려고 할 때 오직 자신을 통해서만 접근하도록하여 자원을 보호 (문지기 역할)
- **이중 모드**: CPU가 명령어를 실행하는 모드를 사용자 모드와 커널 모드로 구분하는 방식
- **사용자 모드**: 운영체제 서비스를 제공받을 수 없는 실행 모드 (커널 영역의 코드를 실행할 수 없음, 하드웨어 자원에 접근하는 명령어를 실행할 수 없음)
- **커널 모드**: 운영체제 서비스를 제공받을 수 있는 실행 모드 (커널 영역의 코드를 실행할 수 있음)
- **시스템 호출**: 사용자 모드로 실행되는 프로그램이 자원에 접근하는 운영체제 서비스를 제공받기 위해 커널 모드로 전환하려 운영체제에 보내는 요청
    - 일종의 소프트웨어적 인터럽트(: 특정 명령어에 의해 발생하는 인터럽트)
        
        ![Screenshot 2023-07-16 at 5.09.48 PM.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b8b3bccb-58f4-4c35-b258-0b68b8ddd512/Screenshot_2023-07-16_at_5.09.48_PM.png)
        

### 운영체제의 핵심 서비스

- **프로세스 관리**
    - 프로세스: 실행 중인 프로그램. CPU는 한 번에 하나의 프로세스만 실행할 수 있음(번갈아가며 실행)
    - 프로세스 관리 및 실행, 프로세스 동기화, 교착 상태 해결 등…
- **자원 접근 및 할당**
    - 운영체제는 CPU, 메모리, 보조기억장치, 입출력장치를 어떻게 관리하고 어떤 기능을 제공?
    - CPU - CPU 스케줄링: 어떤 프로세스부터 얼마나 오래 CPU를 이용하게 할 것인지 결정
    - 메모리 - 프로세스에게 어떻게 메모리를 할당하는지, 메모리가 부족할 땐 어떻게 극복하는지
    - 입출력장치 - 인터럽트 처리 프로그램 즉 인터럽트 서비스 루틴 제공
- **파일 시스템 관리**
    - 파일 열기, 생성, 삭제, 관리
